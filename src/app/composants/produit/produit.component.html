<h2 class ="container">Produit</h2>
<form class="container" (ngSubmit)="ajouterProduit()" #monForm="ngForm">
    <div class="mb-3">
        <label for="id" class="form-label">Identifiant</label>
        <input type="number" class="form-control" id="id" name="id" [(ngModel)]="produit.id" required #id="ngModel">
        <div [hidden]="id.valid || id.pristine" class="text-danger text-center">
            L'identifiant est obligatoire
        </div>
    </div> 
    
  
    <div class="mb-3">
        <label for="designation" class="form-label">Désignation</label>
        <input type="text" class="form-control" id="designation" name ="designation" [(ngModel)]="produit.designation" required minlength="3" maxlength="30" #designation="ngModel">
        <div [hidden]="designation.valid || designation.pristine" class="text-danger text-center">La désignation doit contenir entre 3 et 30 caractères</div>
    </div>
    <div class="mb-3">
        <label for="prixUnitaire" class="form-label">Prix unitaire </label>
        <input type="number" class="form-control" id="prixUnitaire" name="prixUnitaire" [(ngModel)]="produit.prixUnitaire" required min="10" max="1000" #prixUnitaire="ngModel">
        <div [hidden]="prixUnitaire.valid || prixUnitaire.pristine" class="text-danger text-center">Le prix unitaire doit etre entre 10 et 1000</div>
    </div>
    <div class="mb-3">
        <label for="quantiteEnStock" class="form-label">Quantité </label>
        <input type="number" class="form-control" id="quantiteEnStock" name="quantiteEnStock" [(ngModel)]="produit.quantiteEnStock" required #quantiteEnStock="ngModel">
        <div [hidden]="quantiteEnStock.valid || quantiteEnStock.pristine" class= "text-danger text-center"> La quantité en stock est obligatoire</div>
    </div>

    <button [disabled]="monForm.invalid" class="btn btn-primary">Afficher</button>

<!-- pour afficher les données du formulaire en bas du formulaire -->
<h2>la liste des produits</h2>
<div class="container my-3">
<table class="table table-hover">
    <thead>
        <tr>
            <th>Identifiant</th>
            <th>Désignation</th>
            <th>Prix unitaire</th>
            <th>Quantité</th>
            <th class="text-center">Action</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let elt of produits">
            <td>{{ elt.id }}</td>
            <td>{{ elt.designation }}</td>
            <td>{{ elt.prixUnitaire }}</td>
            <td>{{ elt.quantiteEnStock }}</td>
            <td class="text-center">
                <button class="btn mx-2" (click)="supprimerProduit(elt.id)">
                    <i style="color:tomato" class="fas fa-trash-alt"></i>
                </button> 
                <a class[routerLink]="['/produit', elt.id]">
                    <i class="far fa-edit"></i></a>
            </td>
        </tr>

    </tbody>
</table>
</div>
